<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Class 06</title>
    <script>
        //Function to test regular expressions with string parameters
         function checkStringAgainstRegEx(_regEx, _modifier, _string){
             //List characters between the two forward slashes /...../
             strFormat = new RegExp(_regEx, _modifier);
             //test() is a function used to compare input string against the RegExp
             if(strFormat.test(_string)){
                 return true;
             } else {
                 return false;
             }
         }
    </script>
</head>
<body>
    <!-- PART B Create textbox label and buttons to read string and reg exp-->
    
  <label for="RegExTxt">Enter RegEx to search item(/regex/modifier):&nbsp&nbsp&nbsp</label>
  <input type="text" id="RegExTxt">
  <input type="button" id="button1" value="Submit"><br>
  <p id="output1"></p>
  <script>
      //PART C Declare the variables to hold the elements ID's
          // variables that point to the textbox, button, and the paragraph
    btn1=document.getElementById("button1");
    out1=document.getElementById("output1");
    txtRegExp=document.getElementById("RegExTxt");
    //PART D
        //Function to check the input string matches the regular expression

    function fCheckInput(){
        //PART D1 Extract the regular expression and modifiers
                //this string is enclosed within / and /
        RegExpression=txtRegExp.value;
        //remove the enclosing //
        RegExpStringOnly=RegExpression.substr(1,RegExpression.lastIndexOf("/")-1);
        //get the modifier(s)
        RegExpModifier=RegExpression.substr(RegExpression.lastIndexOf("/")+1);
        //PART D2 Initializing the output paragraph element
                //PART D2 Initializing the output paragraph element
                //ensure the all text within <p></p> is empty
        out1.innerHTML="";

        itemId = ["Lab001", "Lab002", "Lab003", "Pad001", "Pad002", "P001", "P002"];
        itemName = ["ZenBook", "ViVoBook", "Macbook air", "Ipad", "Galaxy pad", "Iphone", "Galaxy S8"];
        itemType = ["Laptop", "Laptop", "Laptop", "Pad", "Pad", "CellPhone", "CellPhone"];
        itemPrice = ["3000", "2000", "25000", "24589", "3000", "4200", "2300"];

        str="<table border=\"1\">"
            +"<tr><th>Item Id</th><th>Name</th><th>Type</th><th>Price</th></tr>";
        for (j=0; j<itemId.length; j++){
            if (checkStringAgainstRegEx(RegExpStringOnly, RegExpModifier, itemName[j])){
                str= str+"<tr><td>"+itemId[j]+"</td>"
                            + "<td>"+itemName[j]+"</td>"
                            + "<td>"+itemType[j]+"</td>"
                            + "<td>"+itemPrice[j]+"</td>"
                        +"</tr>";
            }
        }
            str=str+"</table>";
        document.getElementById("output1").innerHTML=str;
    }
      //PART E
      //call event listener when the button is pressed

    btn1.addEventListener('click',fCheckInput);
  </script>
</body>
</html>
